# WIN Backend Engineering Interview

# SOLUTION: 

## Technologies Used:

1. Language: JavaScript
2. Framework: Node.js with Express.js
3. Database: MongoDB
4. Testing: Jest with supertest

## High-level Solution Overview:

- The order management API service is built using Node.js and Express.js, which allows for the efficient handling of HTTP requests and responses.
-The service uses MongoDB as the database to store order information. Mongoose is used as the ODM (Object-Document Mapper) to interact with the MongoDB database.
- The API endpoints are defined in the Express.js router, which handles incoming requests and invokes the corresponding controller functions.
- The controllers contain the business logic for handling the order management operations, such as creating, updating, deleting, and retrieving orders.
- The solution employs middleware functions for request validation, error handling, and error responses.
- Testing is implemented using Jest, a popular JavaScript testing framework. The supertest library is used to simulate HTTP requests and assert the expected responses.

## Trade-offs Made:

- A trade-off was made to use a simple and lightweight architecture using Node.js and Express.js for quick development and deployment. This allows for rapid iteration and scalability.
- Another trade-off was made to use an in-memory database for testing purposes instead of a full-fledged production database. This simplifies the setup and teardown of tests.

## Assumptions Made:

- It was assumed that the order information includes fields such as datetime, totalfee, and services, and these fields are required for order creation.
- It was assumed that the order ID is automatically generated by the database.

## Changes for Production:

- Enhanced error handling and logging: In a production environment, it is crucial to handle and log errors appropriately for easier troubleshooting and monitoring.
- Implement authentication and authorization: For a production-ready system, it is important to secure the API endpoints and implement user authentication and authorization to control access to the order management functionality.
- Implement pagination and sorting: As the number of orders grows, implementing pagination and sorting features would be beneficial for efficiently retrieving and managing large datasets.
- Improve testing coverage: Expand the test suite to cover more edge cases and scenarios to ensure robustness and reliability.

## Environment Setup Instructions:

1. Install Node.js (https://nodejs.org) and MongoDB (https://www.mongodb.com) if not already installed and install mongoDB Compass for setup DB in local machine.
2. Clone the project repository from the provided source.
3. Navigate to the project directory using the command line.
4. Install project dependencies by running the command: npm install.
5. Make a directory with name config inside root directory and two files dev.env and test.env
6. Set up the MongoDB connection by updating the MONGO_DB_URL in the .env files of the config folder.
7. Run the project using the command: npm start.
8. Run the Tests using the command: npm test.

## Spec Completion and Time Taken:

- The order management API service has been implemented with the basic functionality, including order creation, retrieval, update, and deletion, as well as preventing duplicate orders within a 3-hour time window.
- The total time taken to implement the solution approx 2-3 hours including
    database connection, handling async operations, and ensuring proper error handling and validation, and implementation of test cases.

## Scenario

Your mission is to build a portion of an order management system. You need to provide a service that allows other systems and teams to obtain information about orders.

## Deliverables

There are two deliverables for this project:

1. An internal web service API for managing orders
2. A test suite to validate the web service and library work as expected

### General

- Please use either **JavaScript/TypeScript or Python**.
- You may use any framework, such as a web framework or test framework, to help you complete the project.
- You may store the data for this system in any database you choose, however we've included a Docker image loaded with Postgres in this repo.
- You may model the data any way you'd like, including adding data beyond the samples provided.

### Web Service

- Your service should implement several endpoints that accept POST, GET, PUT and DELETE requests. Also 1 endpoint that accepts GET all orders.
- Your service should handle edge cases appropriately and return appropriate HTTP status codes.
- Your service should return an error on creation/updating an order within 3 hrs of a pre-existing order.
- Your service should return JSON results.
- Your service should have at least one test.



## Submission
1.  Clone this repo
2.  Create Web Services and tests
3.  Submit a Pull Request (PR)
4.  In the PR, include a README that includes the following:
      - A description of your solution at a high-level, including language used, framework used, roughly how it works, etc.
      - What trade-offs you made
      - Any assumptions you made that affected your solution
      - What you would change if you built this for production
      - Brief instructions on how to setup the environment to run your project
      - What parts of the spec were completed, how much time you spent, and any particular problems you ran into

## Evaluation
We are looking for: 
1. Communication
2. Solution Design
3. Completeness
4. Code clarity / readability


